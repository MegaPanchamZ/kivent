<!DOCTYPE html>
<!-- Generated by Cython 0.29.17 -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Cython: vertex_format.pyx</title>
    <style type="text/css">
    
body.cython { font-family: courier; font-size: 12; }

.cython.tag  {  }
.cython.line { margin: 0em }
.cython.code { font-size: 9; color: #444444; display: none; margin: 0px 0px 0px 8px; border-left: 8px none; }

.cython.line .run { background-color: #B0FFB0; }
.cython.line .mis { background-color: #FFB0B0; }
.cython.code.run  { border-left: 8px solid #B0FFB0; }
.cython.code.mis  { border-left: 8px solid #FFB0B0; }

.cython.code .py_c_api  { color: red; }
.cython.code .py_macro_api  { color: #FF7000; }
.cython.code .pyx_c_api  { color: #FF3000; }
.cython.code .pyx_macro_api  { color: #FF7000; }
.cython.code .refnanny  { color: #FFA000; }
.cython.code .trace  { color: #FFA000; }
.cython.code .error_goto  { color: #FFA000; }

.cython.code .coerce  { color: #008000; border: 1px dotted #008000 }
.cython.code .py_attr { color: #FF0000; font-weight: bold; }
.cython.code .c_attr  { color: #0000FF; }
.cython.code .py_call { color: #FF0000; font-weight: bold; }
.cython.code .c_call  { color: #0000FF; }

.cython.score-0 {background-color: #FFFFff;}
.cython.score-1 {background-color: #FFFFe7;}
.cython.score-2 {background-color: #FFFFd4;}
.cython.score-3 {background-color: #FFFFc4;}
.cython.score-4 {background-color: #FFFFb6;}
.cython.score-5 {background-color: #FFFFaa;}
.cython.score-6 {background-color: #FFFF9f;}
.cython.score-7 {background-color: #FFFF96;}
.cython.score-8 {background-color: #FFFF8d;}
.cython.score-9 {background-color: #FFFF86;}
.cython.score-10 {background-color: #FFFF7f;}
.cython.score-11 {background-color: #FFFF79;}
.cython.score-12 {background-color: #FFFF73;}
.cython.score-13 {background-color: #FFFF6e;}
.cython.score-14 {background-color: #FFFF6a;}
.cython.score-15 {background-color: #FFFF66;}
.cython.score-16 {background-color: #FFFF62;}
.cython.score-17 {background-color: #FFFF5e;}
.cython.score-18 {background-color: #FFFF5b;}
.cython.score-19 {background-color: #FFFF57;}
.cython.score-20 {background-color: #FFFF55;}
.cython.score-21 {background-color: #FFFF52;}
.cython.score-22 {background-color: #FFFF4f;}
.cython.score-23 {background-color: #FFFF4d;}
.cython.score-24 {background-color: #FFFF4b;}
.cython.score-25 {background-color: #FFFF48;}
.cython.score-26 {background-color: #FFFF46;}
.cython.score-27 {background-color: #FFFF44;}
.cython.score-28 {background-color: #FFFF43;}
.cython.score-29 {background-color: #FFFF41;}
.cython.score-30 {background-color: #FFFF3f;}
.cython.score-31 {background-color: #FFFF3e;}
.cython.score-32 {background-color: #FFFF3c;}
.cython.score-33 {background-color: #FFFF3b;}
.cython.score-34 {background-color: #FFFF39;}
.cython.score-35 {background-color: #FFFF38;}
.cython.score-36 {background-color: #FFFF37;}
.cython.score-37 {background-color: #FFFF36;}
.cython.score-38 {background-color: #FFFF35;}
.cython.score-39 {background-color: #FFFF34;}
.cython.score-40 {background-color: #FFFF33;}
.cython.score-41 {background-color: #FFFF32;}
.cython.score-42 {background-color: #FFFF31;}
.cython.score-43 {background-color: #FFFF30;}
.cython.score-44 {background-color: #FFFF2f;}
.cython.score-45 {background-color: #FFFF2e;}
.cython.score-46 {background-color: #FFFF2d;}
.cython.score-47 {background-color: #FFFF2c;}
.cython.score-48 {background-color: #FFFF2b;}
.cython.score-49 {background-color: #FFFF2b;}
.cython.score-50 {background-color: #FFFF2a;}
.cython.score-51 {background-color: #FFFF29;}
.cython.score-52 {background-color: #FFFF29;}
.cython.score-53 {background-color: #FFFF28;}
.cython.score-54 {background-color: #FFFF27;}
.cython.score-55 {background-color: #FFFF27;}
.cython.score-56 {background-color: #FFFF26;}
.cython.score-57 {background-color: #FFFF26;}
.cython.score-58 {background-color: #FFFF25;}
.cython.score-59 {background-color: #FFFF24;}
.cython.score-60 {background-color: #FFFF24;}
.cython.score-61 {background-color: #FFFF23;}
.cython.score-62 {background-color: #FFFF23;}
.cython.score-63 {background-color: #FFFF22;}
.cython.score-64 {background-color: #FFFF22;}
.cython.score-65 {background-color: #FFFF22;}
.cython.score-66 {background-color: #FFFF21;}
.cython.score-67 {background-color: #FFFF21;}
.cython.score-68 {background-color: #FFFF20;}
.cython.score-69 {background-color: #FFFF20;}
.cython.score-70 {background-color: #FFFF1f;}
.cython.score-71 {background-color: #FFFF1f;}
.cython.score-72 {background-color: #FFFF1f;}
.cython.score-73 {background-color: #FFFF1e;}
.cython.score-74 {background-color: #FFFF1e;}
.cython.score-75 {background-color: #FFFF1e;}
.cython.score-76 {background-color: #FFFF1d;}
.cython.score-77 {background-color: #FFFF1d;}
.cython.score-78 {background-color: #FFFF1c;}
.cython.score-79 {background-color: #FFFF1c;}
.cython.score-80 {background-color: #FFFF1c;}
.cython.score-81 {background-color: #FFFF1c;}
.cython.score-82 {background-color: #FFFF1b;}
.cython.score-83 {background-color: #FFFF1b;}
.cython.score-84 {background-color: #FFFF1b;}
.cython.score-85 {background-color: #FFFF1a;}
.cython.score-86 {background-color: #FFFF1a;}
.cython.score-87 {background-color: #FFFF1a;}
.cython.score-88 {background-color: #FFFF1a;}
.cython.score-89 {background-color: #FFFF19;}
.cython.score-90 {background-color: #FFFF19;}
.cython.score-91 {background-color: #FFFF19;}
.cython.score-92 {background-color: #FFFF19;}
.cython.score-93 {background-color: #FFFF18;}
.cython.score-94 {background-color: #FFFF18;}
.cython.score-95 {background-color: #FFFF18;}
.cython.score-96 {background-color: #FFFF18;}
.cython.score-97 {background-color: #FFFF17;}
.cython.score-98 {background-color: #FFFF17;}
.cython.score-99 {background-color: #FFFF17;}
.cython.score-100 {background-color: #FFFF17;}
.cython.score-101 {background-color: #FFFF16;}
.cython.score-102 {background-color: #FFFF16;}
.cython.score-103 {background-color: #FFFF16;}
.cython.score-104 {background-color: #FFFF16;}
.cython.score-105 {background-color: #FFFF16;}
.cython.score-106 {background-color: #FFFF15;}
.cython.score-107 {background-color: #FFFF15;}
.cython.score-108 {background-color: #FFFF15;}
.cython.score-109 {background-color: #FFFF15;}
.cython.score-110 {background-color: #FFFF15;}
.cython.score-111 {background-color: #FFFF15;}
.cython.score-112 {background-color: #FFFF14;}
.cython.score-113 {background-color: #FFFF14;}
.cython.score-114 {background-color: #FFFF14;}
.cython.score-115 {background-color: #FFFF14;}
.cython.score-116 {background-color: #FFFF14;}
.cython.score-117 {background-color: #FFFF14;}
.cython.score-118 {background-color: #FFFF13;}
.cython.score-119 {background-color: #FFFF13;}
.cython.score-120 {background-color: #FFFF13;}
.cython.score-121 {background-color: #FFFF13;}
.cython.score-122 {background-color: #FFFF13;}
.cython.score-123 {background-color: #FFFF13;}
.cython.score-124 {background-color: #FFFF13;}
.cython.score-125 {background-color: #FFFF12;}
.cython.score-126 {background-color: #FFFF12;}
.cython.score-127 {background-color: #FFFF12;}
.cython.score-128 {background-color: #FFFF12;}
.cython.score-129 {background-color: #FFFF12;}
.cython.score-130 {background-color: #FFFF12;}
.cython.score-131 {background-color: #FFFF12;}
.cython.score-132 {background-color: #FFFF11;}
.cython.score-133 {background-color: #FFFF11;}
.cython.score-134 {background-color: #FFFF11;}
.cython.score-135 {background-color: #FFFF11;}
.cython.score-136 {background-color: #FFFF11;}
.cython.score-137 {background-color: #FFFF11;}
.cython.score-138 {background-color: #FFFF11;}
.cython.score-139 {background-color: #FFFF11;}
.cython.score-140 {background-color: #FFFF11;}
.cython.score-141 {background-color: #FFFF10;}
.cython.score-142 {background-color: #FFFF10;}
.cython.score-143 {background-color: #FFFF10;}
.cython.score-144 {background-color: #FFFF10;}
.cython.score-145 {background-color: #FFFF10;}
.cython.score-146 {background-color: #FFFF10;}
.cython.score-147 {background-color: #FFFF10;}
.cython.score-148 {background-color: #FFFF10;}
.cython.score-149 {background-color: #FFFF10;}
.cython.score-150 {background-color: #FFFF0f;}
.cython.score-151 {background-color: #FFFF0f;}
.cython.score-152 {background-color: #FFFF0f;}
.cython.score-153 {background-color: #FFFF0f;}
.cython.score-154 {background-color: #FFFF0f;}
.cython.score-155 {background-color: #FFFF0f;}
.cython.score-156 {background-color: #FFFF0f;}
.cython.score-157 {background-color: #FFFF0f;}
.cython.score-158 {background-color: #FFFF0f;}
.cython.score-159 {background-color: #FFFF0f;}
.cython.score-160 {background-color: #FFFF0f;}
.cython.score-161 {background-color: #FFFF0e;}
.cython.score-162 {background-color: #FFFF0e;}
.cython.score-163 {background-color: #FFFF0e;}
.cython.score-164 {background-color: #FFFF0e;}
.cython.score-165 {background-color: #FFFF0e;}
.cython.score-166 {background-color: #FFFF0e;}
.cython.score-167 {background-color: #FFFF0e;}
.cython.score-168 {background-color: #FFFF0e;}
.cython.score-169 {background-color: #FFFF0e;}
.cython.score-170 {background-color: #FFFF0e;}
.cython.score-171 {background-color: #FFFF0e;}
.cython.score-172 {background-color: #FFFF0e;}
.cython.score-173 {background-color: #FFFF0d;}
.cython.score-174 {background-color: #FFFF0d;}
.cython.score-175 {background-color: #FFFF0d;}
.cython.score-176 {background-color: #FFFF0d;}
.cython.score-177 {background-color: #FFFF0d;}
.cython.score-178 {background-color: #FFFF0d;}
.cython.score-179 {background-color: #FFFF0d;}
.cython.score-180 {background-color: #FFFF0d;}
.cython.score-181 {background-color: #FFFF0d;}
.cython.score-182 {background-color: #FFFF0d;}
.cython.score-183 {background-color: #FFFF0d;}
.cython.score-184 {background-color: #FFFF0d;}
.cython.score-185 {background-color: #FFFF0d;}
.cython.score-186 {background-color: #FFFF0d;}
.cython.score-187 {background-color: #FFFF0c;}
.cython.score-188 {background-color: #FFFF0c;}
.cython.score-189 {background-color: #FFFF0c;}
.cython.score-190 {background-color: #FFFF0c;}
.cython.score-191 {background-color: #FFFF0c;}
.cython.score-192 {background-color: #FFFF0c;}
.cython.score-193 {background-color: #FFFF0c;}
.cython.score-194 {background-color: #FFFF0c;}
.cython.score-195 {background-color: #FFFF0c;}
.cython.score-196 {background-color: #FFFF0c;}
.cython.score-197 {background-color: #FFFF0c;}
.cython.score-198 {background-color: #FFFF0c;}
.cython.score-199 {background-color: #FFFF0c;}
.cython.score-200 {background-color: #FFFF0c;}
.cython.score-201 {background-color: #FFFF0c;}
.cython.score-202 {background-color: #FFFF0c;}
.cython.score-203 {background-color: #FFFF0b;}
.cython.score-204 {background-color: #FFFF0b;}
.cython.score-205 {background-color: #FFFF0b;}
.cython.score-206 {background-color: #FFFF0b;}
.cython.score-207 {background-color: #FFFF0b;}
.cython.score-208 {background-color: #FFFF0b;}
.cython.score-209 {background-color: #FFFF0b;}
.cython.score-210 {background-color: #FFFF0b;}
.cython.score-211 {background-color: #FFFF0b;}
.cython.score-212 {background-color: #FFFF0b;}
.cython.score-213 {background-color: #FFFF0b;}
.cython.score-214 {background-color: #FFFF0b;}
.cython.score-215 {background-color: #FFFF0b;}
.cython.score-216 {background-color: #FFFF0b;}
.cython.score-217 {background-color: #FFFF0b;}
.cython.score-218 {background-color: #FFFF0b;}
.cython.score-219 {background-color: #FFFF0b;}
.cython.score-220 {background-color: #FFFF0b;}
.cython.score-221 {background-color: #FFFF0b;}
.cython.score-222 {background-color: #FFFF0a;}
.cython.score-223 {background-color: #FFFF0a;}
.cython.score-224 {background-color: #FFFF0a;}
.cython.score-225 {background-color: #FFFF0a;}
.cython.score-226 {background-color: #FFFF0a;}
.cython.score-227 {background-color: #FFFF0a;}
.cython.score-228 {background-color: #FFFF0a;}
.cython.score-229 {background-color: #FFFF0a;}
.cython.score-230 {background-color: #FFFF0a;}
.cython.score-231 {background-color: #FFFF0a;}
.cython.score-232 {background-color: #FFFF0a;}
.cython.score-233 {background-color: #FFFF0a;}
.cython.score-234 {background-color: #FFFF0a;}
.cython.score-235 {background-color: #FFFF0a;}
.cython.score-236 {background-color: #FFFF0a;}
.cython.score-237 {background-color: #FFFF0a;}
.cython.score-238 {background-color: #FFFF0a;}
.cython.score-239 {background-color: #FFFF0a;}
.cython.score-240 {background-color: #FFFF0a;}
.cython.score-241 {background-color: #FFFF0a;}
.cython.score-242 {background-color: #FFFF0a;}
.cython.score-243 {background-color: #FFFF0a;}
.cython.score-244 {background-color: #FFFF0a;}
.cython.score-245 {background-color: #FFFF0a;}
.cython.score-246 {background-color: #FFFF09;}
.cython.score-247 {background-color: #FFFF09;}
.cython.score-248 {background-color: #FFFF09;}
.cython.score-249 {background-color: #FFFF09;}
.cython.score-250 {background-color: #FFFF09;}
.cython.score-251 {background-color: #FFFF09;}
.cython.score-252 {background-color: #FFFF09;}
.cython.score-253 {background-color: #FFFF09;}
.cython.score-254 {background-color: #FFFF09;}
.cython .hll { background-color: #ffffcc }
.cython  { background: #f8f8f8; }
.cython .c { color: #408080; font-style: italic } /* Comment */
.cython .err { border: 1px solid #FF0000 } /* Error */
.cython .k { color: #008000; font-weight: bold } /* Keyword */
.cython .o { color: #666666 } /* Operator */
.cython .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.cython .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.cython .cp { color: #BC7A00 } /* Comment.Preproc */
.cython .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.cython .c1 { color: #408080; font-style: italic } /* Comment.Single */
.cython .cs { color: #408080; font-style: italic } /* Comment.Special */
.cython .gd { color: #A00000 } /* Generic.Deleted */
.cython .ge { font-style: italic } /* Generic.Emph */
.cython .gr { color: #FF0000 } /* Generic.Error */
.cython .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.cython .gi { color: #00A000 } /* Generic.Inserted */
.cython .go { color: #888888 } /* Generic.Output */
.cython .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.cython .gs { font-weight: bold } /* Generic.Strong */
.cython .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.cython .gt { color: #0044DD } /* Generic.Traceback */
.cython .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.cython .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.cython .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.cython .kp { color: #008000 } /* Keyword.Pseudo */
.cython .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.cython .kt { color: #B00040 } /* Keyword.Type */
.cython .m { color: #666666 } /* Literal.Number */
.cython .s { color: #BA2121 } /* Literal.String */
.cython .na { color: #7D9029 } /* Name.Attribute */
.cython .nb { color: #008000 } /* Name.Builtin */
.cython .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.cython .no { color: #880000 } /* Name.Constant */
.cython .nd { color: #AA22FF } /* Name.Decorator */
.cython .ni { color: #999999; font-weight: bold } /* Name.Entity */
.cython .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.cython .nf { color: #0000FF } /* Name.Function */
.cython .nl { color: #A0A000 } /* Name.Label */
.cython .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.cython .nt { color: #008000; font-weight: bold } /* Name.Tag */
.cython .nv { color: #19177C } /* Name.Variable */
.cython .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.cython .w { color: #bbbbbb } /* Text.Whitespace */
.cython .mb { color: #666666 } /* Literal.Number.Bin */
.cython .mf { color: #666666 } /* Literal.Number.Float */
.cython .mh { color: #666666 } /* Literal.Number.Hex */
.cython .mi { color: #666666 } /* Literal.Number.Integer */
.cython .mo { color: #666666 } /* Literal.Number.Oct */
.cython .sa { color: #BA2121 } /* Literal.String.Affix */
.cython .sb { color: #BA2121 } /* Literal.String.Backtick */
.cython .sc { color: #BA2121 } /* Literal.String.Char */
.cython .dl { color: #BA2121 } /* Literal.String.Delimiter */
.cython .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.cython .s2 { color: #BA2121 } /* Literal.String.Double */
.cython .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.cython .sh { color: #BA2121 } /* Literal.String.Heredoc */
.cython .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.cython .sx { color: #008000 } /* Literal.String.Other */
.cython .sr { color: #BB6688 } /* Literal.String.Regex */
.cython .s1 { color: #BA2121 } /* Literal.String.Single */
.cython .ss { color: #19177C } /* Literal.String.Symbol */
.cython .bp { color: #008000 } /* Name.Builtin.Pseudo */
.cython .fm { color: #0000FF } /* Name.Function.Magic */
.cython .vc { color: #19177C } /* Name.Variable.Class */
.cython .vg { color: #19177C } /* Name.Variable.Global */
.cython .vi { color: #19177C } /* Name.Variable.Instance */
.cython .vm { color: #19177C } /* Name.Variable.Magic */
.cython .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>
</head>
<body class="cython">
<p><span style="border-bottom: solid 1px grey;">Generated by Cython 0.29.17</span></p>
<p>
    <span style="background-color: #FFFF00">Yellow lines</span> hint at Python interaction.<br />
    Click on a line that starts with a "<code>+</code>" to see the C code that Cython generated for it.
</p>
<p>Raw output: <a href="vertex_format.c">vertex_format.c</a></p>
<div class="cython"><pre class="cython line score-0">&#xA0;<span class="">001</span>: <span class="c"># cython: embedsignature=True</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">002</span>: <span class="k">from</span> <span class="nn">kivy.graphics.vertex</span> <span class="k">cimport</span> <span class="n">vertex_attr_t</span><span class="p">,</span> <span class="n">VertexFormat</span></pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">003</span>: <span class="k">from</span> <span class="nn">kivy.graphics.vertex</span> <span class="k">import</span> <span class="n">VertexFormatException</span></pre>
<pre class='cython code score-19 '>  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_VertexFormatException);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_VertexFormatException);
  <span class='py_macro_api'>PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_VertexFormatException);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_kivy_graphics_vertex, __pyx_t_1, -1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_VertexFormatException);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_VertexFormatException, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">004</span>: <span class="k">from</span> <span class="nn">cython</span> <span class="k">cimport</span> <span class="n">Py_ssize_t</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">005</span>: <span class="k">from</span> <span class="nn">cpython.mem</span> <span class="k">cimport</span> <span class="n">PyMem_Malloc</span><span class="p">,</span> <span class="n">PyMem_Free</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">006</span>: <span class="k">from</span> <span class="nn">kivy.graphics.shader</span> <span class="k">cimport</span> <span class="n">Shader</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">007</span>: <span class="k">from</span> <span class="nn">kivy.graphics.cgl</span> <span class="k">cimport</span> <span class="p">(</span><span class="n">GL_FLOAT</span><span class="p">,</span> <span class="n">GLfloat</span><span class="p">,</span> <span class="n">GLsizei</span><span class="p">,</span> <span class="n">GL_FALSE</span><span class="p">,</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">008</span>:     <span class="n">cgl</span> <span class="p">,</span><span class="n">GLvoid</span><span class="p">,</span> <span class="n">GL_BYTE</span><span class="p">,</span> <span class="n">GLbyte</span><span class="p">,</span> <span class="n">GL_SHORT</span><span class="p">,</span> <span class="n">GLshort</span><span class="p">,</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">009</span>:     <span class="n">GL_INT</span><span class="p">,</span> <span class="n">GLint</span><span class="p">,</span> <span class="n">GL_UNSIGNED_BYTE</span><span class="p">,</span> <span class="n">GLubyte</span><span class="p">,</span> <span class="n">GL_UNSIGNED_SHORT</span><span class="p">,</span> <span class="n">GLushort</span><span class="p">,</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">010</span>:     <span class="n">GL_UNSIGNED_INT</span><span class="p">,</span> <span class="n">GLuint</span><span class="p">,</span> <span class="n">GL_TRUE</span><span class="p">)</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">011</span>: <span class="k">from</span> <span class="nn">kivy.graphics.instructions</span> <span class="k">cimport</span> <span class="n">getActiveContext</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">012</span>: <span class="k">from</span> <span class="nn">kivent_core.rendering.gl_debug</span> <span class="k">cimport</span> <span class="n">gl_log_debug_message</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">013</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">014</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">015</span>: <span class="k">cdef</span> <span class="k">class</span> <span class="nf">KEVertexFormat</span><span class="p">(</span><span class="n">VertexFormat</span><span class="p">):</span></pre>
<pre class='cython code score-0 '>struct __pyx_vtabstruct_11kivent_core_9rendering_13vertex_format_KEVertexFormat {
  void (*bind)(struct __pyx_obj_11kivent_core_9rendering_13vertex_format_KEVertexFormat *);
};
static struct __pyx_vtabstruct_11kivent_core_9rendering_13vertex_format_KEVertexFormat *__pyx_vtabptr_11kivent_core_9rendering_13vertex_format_KEVertexFormat;
</pre><pre class="cython line score-0">&#xA0;<span class="">016</span>:     <span class="sd">&#39;&#39;&#39;VertexFormat is used to describe the layout of the vertex data stored</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">017</span>: <span class="sd">    in vertex arrays/vbo&#39;s. It differs from the Kivy VertexFormat by tracking</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">018</span>: <span class="sd">    the offsets of the individual attributes so that you can interleave</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">019</span>: <span class="sd">    non-homogenous data types.</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">020</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">021</span>: <span class="sd">    Supported attribute types are:</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">022</span>: <span class="sd">        &#39;float&#39;: GLfloat</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">023</span>: <span class="sd">        &#39;byte&#39;: GLbyte</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">024</span>: <span class="sd">        &#39;ubyte&#39;: GLubyte</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">025</span>: <span class="sd">        &#39;int&#39;: GLint</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">026</span>: <span class="sd">        &#39;uint&#39;: GLuint</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">027</span>: <span class="sd">        &#39;short&#39;: GLshort</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">028</span>: <span class="sd">        &#39;ushort&#39;: GLushort</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">029</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">030</span>: <span class="sd">    **Attributes: (Cython Access Only)**</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">031</span>: <span class="sd">        attr_offsets (Py_ssize_t*): Pointer to the array containing the</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">032</span>: <span class="sd">        offsets for each attribute of the VertexFormat. Separate from</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">033</span>: <span class="sd">        the rest of the data to maintain compatibility with the Kivy</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">034</span>: <span class="sd">        VertexFormat.</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">035</span>: <span class="sd">    &#39;&#39;&#39;</span></pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">036</span>:     <span class="k">def</span> <span class="nf">__cinit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size_in_bytes</span><span class="p">,</span> <span class="o">*</span><span class="n">fmt</span><span class="p">):</span></pre>
<pre class='cython code score-28 '>/* Python wrapper */
static int __pyx_pw_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pw_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  CYTHON_UNUSED PyObject *__pyx_v_size_in_bytes = 0;
  CYTHON_UNUSED PyObject *__pyx_v_fmt = 0;
  int __pyx_r;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("__cinit__ (wrapper)", 0);
  if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) &gt; 1) {
    __pyx_v_fmt = <span class='py_c_api'>PyTuple_GetSlice</span>(__pyx_args, 1, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));
    if (unlikely(!__pyx_v_fmt)) {
      <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
      return -1;
    }
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_fmt);
  } else {
    __pyx_v_fmt = __pyx_empty_tuple; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_empty_tuple);
  }
  {
    static PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_size_in_bytes,0};
    PyObject* values[1] = {0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
      switch (pos_args) {
        default:
        case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
      }
      kw_args = <span class='py_c_api'>PyDict_Size</span>(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_PyDict_GetItemStr</span>(__pyx_kwds, __pyx_n_s_size_in_bytes)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t used_pos_args = (pos_args &lt; 1) ? pos_args : 1;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, used_pos_args, "__cinit__") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 36, __pyx_L3_error)</span>
      }
    } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) &lt; 1) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
    }
    __pyx_v_size_in_bytes = values[0];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("__cinit__", 0, 1, 1, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)); <span class='error_goto'>__PYX_ERR(0, 36, __pyx_L3_error)</span>
  __pyx_L3_error:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_fmt); __pyx_v_fmt = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("kivent_core.rendering.vertex_format.KEVertexFormat.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_11kivent_core_9rendering_13vertex_format_14KEVertexFormat___cinit__(((struct __pyx_obj_11kivent_core_9rendering_13vertex_format_KEVertexFormat *)__pyx_v_self), __pyx_v_size_in_bytes, __pyx_v_fmt);

  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fmt);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static int __pyx_pf_11kivent_core_9rendering_13vertex_format_14KEVertexFormat___cinit__(struct __pyx_obj_11kivent_core_9rendering_13vertex_format_KEVertexFormat *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_size_in_bytes, CYTHON_UNUSED PyObject *__pyx_v_fmt) {
  int __pyx_r;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("__cinit__", 0);
/* … */
  /* function exit code */
  __pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">037</span>:         <span class="bp">self</span><span class="o">.</span><span class="n">attr_offsets</span> <span class="o">=</span> <span class="bp">NULL</span></pre>
<pre class='cython code score-0 '>  __pyx_v_self-&gt;attr_offsets = NULL;
</pre><pre class="cython line score-0">&#xA0;<span class="">038</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">039</span>:     <span class="k">def</span> <span class="nf">__dealloc__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre>
<pre class='cython code score-0 '>/* Python wrapper */
static void __pyx_pw_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_3__dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_pw_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_3__dealloc__(PyObject *__pyx_v_self) {
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("__dealloc__ (wrapper)", 0);
  __pyx_pf_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_2__dealloc__(((struct __pyx_obj_11kivent_core_9rendering_13vertex_format_KEVertexFormat *)__pyx_v_self));

  /* function exit code */
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
}

static void __pyx_pf_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_2__dealloc__(struct __pyx_obj_11kivent_core_9rendering_13vertex_format_KEVertexFormat *__pyx_v_self) {
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("__dealloc__", 0);
/* … */
  /* function exit code */
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
}
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">040</span>:         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vattr</span> <span class="o">!=</span> <span class="bp">NULL</span><span class="p">:</span></pre>
<pre class='cython code score-0 '>  __pyx_t_1 = ((__pyx_v_self-&gt;__pyx_base.vattr != NULL) != 0);
  if (__pyx_t_1) {
/* … */
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">041</span>:             <span class="n">PyMem_Free</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vattr</span><span class="p">)</span></pre>
<pre class='cython code score-5 '>    <span class='py_c_api'>PyMem_Free</span>(__pyx_v_self-&gt;__pyx_base.vattr);
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">042</span>:             <span class="bp">self</span><span class="o">.</span><span class="n">vattr</span> <span class="o">=</span> <span class="bp">NULL</span></pre>
<pre class='cython code score-0 '>    __pyx_v_self-&gt;__pyx_base.vattr = NULL;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">043</span>:         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">attr_offsets</span> <span class="o">!=</span> <span class="bp">NULL</span><span class="p">:</span></pre>
<pre class='cython code score-0 '>  __pyx_t_1 = ((__pyx_v_self-&gt;attr_offsets != NULL) != 0);
  if (__pyx_t_1) {
/* … */
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">044</span>:             <span class="n">PyMem_Free</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attr_offsets</span><span class="p">)</span></pre>
<pre class='cython code score-5 '>    <span class='py_c_api'>PyMem_Free</span>(__pyx_v_self-&gt;attr_offsets);
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">045</span>:             <span class="bp">self</span><span class="o">.</span><span class="n">attr_offsets</span> <span class="o">=</span> <span class="bp">NULL</span></pre>
<pre class='cython code score-0 '>    __pyx_v_self-&gt;attr_offsets = NULL;
</pre><pre class="cython line score-0">&#xA0;<span class="">046</span>: </pre>
<pre class="cython line score-41" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">047</span>:     <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size_in_bytes</span><span class="p">,</span> <span class="o">*</span><span class="n">fmt</span><span class="p">):</span></pre>
<pre class='cython code score-41 '>/* Python wrapper */
static int __pyx_pw_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_5__init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_4__init__[] = "When creating a KEVertexFormat size_in_bytes should be the sizeof\n        result for the struct being used to hold vertex data. The vertex fmt\n        arg differs slightly from the one found in the default kivy by\n        including the offset in bytes of the attr in the struct. You can\n        see examples in the vertex_formats.pyx.\n\n        Args:\n            size_in_bytes (unsigned int): The sizeof of the struct being used\n            to hold vertex data.\n\n            fmt (list): List of ('vert name' (bytes), count(unsigned int),\n            'type'(str), offsetof(attr)(unsigned int)) tuples representing the\n            vertex data.\n        ";
#if CYTHON_COMPILING_IN_CPYTHON
struct wrapperbase __pyx_wrapperbase_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_4__init__;
#endif
static int __pyx_pw_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_5__init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_size_in_bytes = 0;
  PyObject *__pyx_v_fmt = 0;
  int __pyx_r;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("__init__ (wrapper)", 0);
  if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) &gt; 1) {
    __pyx_v_fmt = <span class='py_c_api'>PyTuple_GetSlice</span>(__pyx_args, 1, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));
    if (unlikely(!__pyx_v_fmt)) {
      <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
      return -1;
    }
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_fmt);
  } else {
    __pyx_v_fmt = __pyx_empty_tuple; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_empty_tuple);
  }
  {
    static PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_size_in_bytes,0};
    PyObject* values[1] = {0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
      switch (pos_args) {
        default:
        case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
      }
      kw_args = <span class='py_c_api'>PyDict_Size</span>(__pyx_kwds);
      switch (pos_args) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_PyDict_GetItemStr</span>(__pyx_kwds, __pyx_n_s_size_in_bytes)) != 0)) kw_args--;
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t used_pos_args = (pos_args &lt; 1) ? pos_args : 1;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, used_pos_args, "__init__") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 47, __pyx_L3_error)</span>
      }
    } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) &lt; 1) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
    }
    __pyx_v_size_in_bytes = values[0];
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("__init__", 0, 1, 1, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)); <span class='error_goto'>__PYX_ERR(0, 47, __pyx_L3_error)</span>
  __pyx_L3_error:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_fmt); __pyx_v_fmt = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("kivent_core.rendering.vertex_format.KEVertexFormat.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_4__init__(((struct __pyx_obj_11kivent_core_9rendering_13vertex_format_KEVertexFormat *)__pyx_v_self), __pyx_v_size_in_bytes, __pyx_v_fmt);

  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fmt);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static int __pyx_pf_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_4__init__(struct __pyx_obj_11kivent_core_9rendering_13vertex_format_KEVertexFormat *__pyx_v_self, PyObject *__pyx_v_size_in_bytes, PyObject *__pyx_v_fmt) {
  __pyx_t_4kivy_8graphics_6vertex_vertex_attr_t *__pyx_v_attr;
  Py_ssize_t *__pyx_v_attr_offsets;
  int __pyx_v_index;
  int __pyx_v_size;
  Py_ssize_t __pyx_v_offset;
  int *__pyx_v_attr_normalize;
  PyObject *__pyx_v_name = NULL;
  PyObject *__pyx_v_tp = NULL;
  PyObject *__pyx_v_do_normalize = NULL;
  int __pyx_r;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("__init__", 0);
/* … */
  /* function exit code */
  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("kivent_core.rendering.vertex_format.KEVertexFormat.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tp);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_do_normalize);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
</pre><pre class="cython line score-0">&#xA0;<span class="">048</span>:         <span class="sd">&#39;&#39;&#39;When creating a KEVertexFormat size_in_bytes should be the sizeof</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">049</span>: <span class="sd">        result for the struct being used to hold vertex data. The vertex fmt</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">050</span>: <span class="sd">        arg differs slightly from the one found in the default kivy by</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">051</span>: <span class="sd">        including the offset in bytes of the attr in the struct. You can</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">052</span>: <span class="sd">        see examples in the vertex_formats.pyx.</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">053</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">054</span>: <span class="sd">        Args:</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">055</span>: <span class="sd">            size_in_bytes (unsigned int): The sizeof of the struct being used</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">056</span>: <span class="sd">            to hold vertex data.</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">057</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">058</span>: <span class="sd">            fmt (list): List of (&#39;vert name&#39; (bytes), count(unsigned int),</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">059</span>: <span class="sd">            &#39;type&#39;(str), offsetof(attr)(unsigned int)) tuples representing the</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">060</span>: <span class="sd">            vertex data.</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">061</span>: <span class="sd">        &#39;&#39;&#39;</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">062</span>:         <span class="k">cdef</span> <span class="kt">vertex_attr_t</span> *<span class="nf">attr</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">063</span>:         <span class="k">cdef</span> <span class="kt">Py_ssize_t</span>* <span class="nf">attr_offsets</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">064</span>:         <span class="k">cdef</span> <span class="kt">int</span> <span class="nf">index</span><span class="p">,</span> <span class="nf">size</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">065</span>:         <span class="k">cdef</span> <span class="kt">Py_ssize_t</span> <span class="nf">offset</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">066</span>:         <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">vbytesize</span></pre>
<pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">067</span>:         <span class="k">if</span> <span class="ow">not</span> <span class="n">fmt</span><span class="p">:</span></pre>
<pre class='cython code score-1 '>  __pyx_t_1 = (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_v_fmt) != 0);
  __pyx_t_2 = ((!__pyx_t_1) != 0);
  if (unlikely(__pyx_t_2)) {
/* … */
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">068</span>:             <span class="k">raise</span> <span class="n">VertexFormatException</span><span class="p">(</span><span class="s">&#39;No format specified&#39;</span><span class="p">)</span></pre>
<pre class='cython code score-19 '>    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_VertexFormatException);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 68, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = NULL;
    if (CYTHON_UNPACK_METHODS &amp;&amp; unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      }
    }
    __pyx_t_3 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_5, __pyx_kp_s_No_format_specified) : <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_4, __pyx_kp_s_No_format_specified);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 68, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 68, __pyx_L1_error)</span>
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">069</span>:         <span class="bp">self</span><span class="o">.</span><span class="n">fmt</span> <span class="o">=</span> <span class="n">fmt</span></pre>
<pre class='cython code score-2 '>  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fmt);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_fmt);
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_self-&gt;fmt);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_self-&gt;fmt);
  __pyx_v_self-&gt;fmt = __pyx_v_fmt;
</pre><pre class="cython line score-0">&#xA0;<span class="">070</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">071</span>:         <span class="bp">self</span><span class="o">.</span><span class="n">last_shader</span> <span class="o">=</span> <span class="bp">None</span></pre>
<pre class='cython code score-2 '>  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_self-&gt;__pyx_base.last_shader);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_self-&gt;__pyx_base.last_shader);
  __pyx_v_self-&gt;__pyx_base.last_shader = Py_None;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">072</span>:         <span class="bp">self</span><span class="o">.</span><span class="n">vattr_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">fmt</span><span class="p">)</span></pre>
<pre class='cython code score-1 '>  __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_v_fmt);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 72, __pyx_L1_error)</span>
  __pyx_v_self-&gt;__pyx_base.vattr_count = __pyx_t_6;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">073</span>:         <span class="bp">self</span><span class="o">.</span><span class="n">vattr</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">vertex_attr_t</span> <span class="o">*&gt;</span><span class="n">PyMem_Malloc</span><span class="p">(</span></pre>
<pre class='cython code score-5 '>  __pyx_v_self-&gt;__pyx_base.vattr = ((__pyx_t_4kivy_8graphics_6vertex_vertex_attr_t *)<span class='py_c_api'>PyMem_Malloc</span>(((sizeof(__pyx_t_4kivy_8graphics_6vertex_vertex_attr_t)) * __pyx_v_self-&gt;__pyx_base.vattr_count)));
</pre><pre class="cython line score-0">&#xA0;<span class="">074</span>:             <span class="n">sizeof</span><span class="p">(</span><span class="n">vertex_attr_t</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">vattr_count</span><span class="p">)</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">075</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">076</span>:         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vattr</span> <span class="o">==</span> <span class="bp">NULL</span><span class="p">:</span></pre>
<pre class='cython code score-0 '>  __pyx_t_2 = ((__pyx_v_self-&gt;__pyx_base.vattr == NULL) != 0);
  if (unlikely(__pyx_t_2)) {
/* … */
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">077</span>:             <span class="k">raise</span> <span class="ne">MemoryError</span><span class="p">()</span></pre>
<pre class='cython code score-5 '>    <span class='py_c_api'>PyErr_NoMemory</span>(); <span class='error_goto'>__PYX_ERR(0, 77, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">078</span>:         <span class="bp">self</span><span class="o">.</span><span class="n">attr_offsets</span> <span class="o">=</span> <span class="n">attr_offsets</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Py_ssize_t</span><span class="o">*&gt;</span><span class="n">PyMem_Malloc</span><span class="p">(</span></pre>
<pre class='cython code score-5 '>  __pyx_t_7 = ((Py_ssize_t *)<span class='py_c_api'>PyMem_Malloc</span>(((sizeof(Py_ssize_t)) * __pyx_v_self-&gt;__pyx_base.vattr_count)));
  __pyx_v_self-&gt;attr_offsets = __pyx_t_7;
  __pyx_v_attr_offsets = __pyx_t_7;
</pre><pre class="cython line score-0">&#xA0;<span class="">079</span>:             <span class="n">sizeof</span><span class="p">(</span><span class="n">Py_ssize_t</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vattr_count</span><span class="p">)</span></pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">080</span>:         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">attr_offsets</span> <span class="o">==</span> <span class="bp">NULL</span><span class="p">:</span></pre>
<pre class='cython code score-0 '>  __pyx_t_2 = ((__pyx_v_self-&gt;attr_offsets == NULL) != 0);
  if (unlikely(__pyx_t_2)) {
/* … */
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">081</span>:             <span class="k">raise</span> <span class="ne">MemoryError</span><span class="p">()</span></pre>
<pre class='cython code score-5 '>    <span class='py_c_api'>PyErr_NoMemory</span>(); <span class='error_goto'>__PYX_ERR(0, 81, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">082</span>:         <span class="bp">self</span><span class="o">.</span><span class="n">attr_normalize</span> <span class="o">=</span> <span class="n">attr_normalize</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">*&gt;</span><span class="n">PyMem_Malloc</span><span class="p">(</span></pre>
<pre class='cython code score-5 '>  __pyx_t_8 = ((int *)<span class='py_c_api'>PyMem_Malloc</span>(((sizeof(int)) * __pyx_v_self-&gt;__pyx_base.vattr_count)));
  __pyx_v_self-&gt;attr_normalize = __pyx_t_8;
  __pyx_v_attr_normalize = __pyx_t_8;
</pre><pre class="cython line score-0">&#xA0;<span class="">083</span>:             <span class="n">sizeof</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vattr_count</span><span class="p">)</span></pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">084</span>:         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">attr_normalize</span> <span class="o">==</span> <span class="bp">NULL</span><span class="p">:</span></pre>
<pre class='cython code score-0 '>  __pyx_t_2 = ((__pyx_v_self-&gt;attr_normalize == NULL) != 0);
  if (unlikely(__pyx_t_2)) {
/* … */
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">085</span>:             <span class="k">raise</span> <span class="ne">MemoryError</span><span class="p">()</span></pre>
<pre class='cython code score-5 '>    <span class='py_c_api'>PyErr_NoMemory</span>(); <span class='error_goto'>__PYX_ERR(0, 85, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">086</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">087</span>:         <span class="n">index</span> <span class="o">=</span> <span class="mf">0</span></pre>
<pre class='cython code score-0 '>  __pyx_v_index = 0;
</pre><pre class="cython line score-77" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">088</span>:         <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">tp</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">do_normalize</span> <span class="ow">in</span> <span class="n">fmt</span><span class="p">:</span></pre>
<pre class='cython code score-77 '>  __pyx_t_3 = __pyx_v_fmt; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_6 = 0;
  for (;;) {
    if (__pyx_t_6 &gt;= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_3)) break;
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_6++; if (unlikely(0 &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 88, __pyx_L1_error)</span>
    #else
    __pyx_t_4 = <span class='py_macro_api'>PySequence_ITEM</span>(__pyx_t_3, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 88, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    #endif
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
      PyObject* sequence = __pyx_t_4;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 5)) {
        if (size &gt; 5) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(5);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 88, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_9 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
        __pyx_t_10 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
        __pyx_t_11 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 3); 
        __pyx_t_12 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 4); 
      } else {
        __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_9 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
        __pyx_t_10 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
        __pyx_t_11 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 3); 
        __pyx_t_12 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 4); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
      #else
      {
        Py_ssize_t i;
        PyObject** temps[5] = {&amp;__pyx_t_5,&amp;__pyx_t_9,&amp;__pyx_t_10,&amp;__pyx_t_11,&amp;__pyx_t_12};
        for (i=0; i &lt; 5; i++) {
          PyObject* item = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, i);<span class='error_goto'> if (unlikely(!item)) __PYX_ERR(0, 88, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(item);
          *(temps[i]) = item;
        }
      }
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    } else {
      Py_ssize_t index = -1;
      PyObject** temps[5] = {&amp;__pyx_t_5,&amp;__pyx_t_9,&amp;__pyx_t_10,&amp;__pyx_t_11,&amp;__pyx_t_12};
      __pyx_t_13 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 88, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_14 = Py_TYPE(__pyx_t_13)-&gt;tp_iternext;
      for (index=0; index &lt; 5; index++) {
        PyObject* item = __pyx_t_14(__pyx_t_13); if (unlikely(!item)) goto __pyx_L9_unpacking_failed;
        <span class='refnanny'>__Pyx_GOTREF</span>(item);
        *(temps[index]) = item;
      }
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_14(__pyx_t_13), 5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 88, __pyx_L1_error)</span>
      __pyx_t_14 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
      goto __pyx_L10_unpacking_done;
      __pyx_L9_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
      __pyx_t_14 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 88, __pyx_L1_error)</span>
      __pyx_L10_unpacking_done:;
    }
    __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyInt_As_int</span>(__pyx_t_9); if (unlikely((__pyx_t_15 == (int)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 88, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyIndex_AsSsize_t</span>(__pyx_t_11); if (unlikely((__pyx_t_16 == (Py_ssize_t)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 88, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_name, __pyx_t_5);
    __pyx_t_5 = 0;
    __pyx_v_size = __pyx_t_15;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_tp, __pyx_t_10);
    __pyx_t_10 = 0;
    __pyx_v_offset = __pyx_t_16;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_do_normalize, __pyx_t_12);
    __pyx_t_12 = 0;
/* … */
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">089</span>:             <span class="n">attr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="bp">self</span><span class="o">.</span><span class="n">vattr</span><span class="p">[</span><span class="n">index</span><span class="p">]</span></pre>
<pre class='cython code score-0 '>    __pyx_v_attr = (&amp;(__pyx_v_self-&gt;__pyx_base.vattr[__pyx_v_index]));
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">090</span>:             <span class="n">attr_offsets</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">offset</span></pre>
<pre class='cython code score-0 '>    (__pyx_v_attr_offsets[__pyx_v_index]) = __pyx_v_offset;
</pre><pre class="cython line score-0">&#xA0;<span class="">091</span>:             <span class="c"># fill the vertex format</span></pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">092</span>:             <span class="n">attr</span><span class="o">.</span><span class="n">per_vertex</span> <span class="o">=</span> <span class="mf">1</span></pre>
<pre class='cython code score-0 '>    __pyx_v_attr-&gt;per_vertex = 1;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">093</span>:             <span class="n">attr</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="p">&lt;</span><span class="kt">bytes</span><span class="p">&gt;</span><span class="n">name</span></pre>
<pre class='cython code score-12 '>    if (unlikely(__pyx_v_name == Py_None)) {
      <span class='py_c_api'>PyErr_SetString</span>(PyExc_TypeError, "expected bytes, NoneType found");
      <span class='error_goto'>__PYX_ERR(0, 93, __pyx_L1_error)</span>
    }
    __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyBytes_AsWritableString</span>(__pyx_v_name); if (unlikely((!__pyx_t_17) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 93, __pyx_L1_error)</span>
    __pyx_v_attr-&gt;name = __pyx_t_17;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">094</span>:             <span class="n">attr</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="mf">0</span> <span class="c"># will be set by the shader itself</span></pre>
<pre class='cython code score-0 '>    __pyx_v_attr-&gt;index = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">095</span>:             <span class="n">attr</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span></pre>
<pre class='cython code score-0 '>    __pyx_v_attr-&gt;size = __pyx_v_size;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">096</span>:             <span class="k">if</span> <span class="n">do_normalize</span><span class="p">:</span></pre>
<pre class='cython code score-2 '>    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_do_normalize); if (unlikely(__pyx_t_2 &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 96, __pyx_L1_error)</span>
    if (__pyx_t_2) {
/* … */
      goto __pyx_L11;
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">097</span>:                 <span class="n">attr_normalize</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">GL_TRUE</span></pre>
<pre class='cython code score-0 '>      (__pyx_v_attr_normalize[__pyx_v_index]) = GL_TRUE;
</pre><pre class="cython line score-0">&#xA0;<span class="">098</span>:             <span class="k">else</span><span class="p">:</span></pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">099</span>:                 <span class="n">attr_normalize</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">GL_FALSE</span></pre>
<pre class='cython code score-0 '>    /*else*/ {
      (__pyx_v_attr_normalize[__pyx_v_index]) = GL_FALSE;
    }
    __pyx_L11:;
</pre><pre class="cython line score-0">&#xA0;<span class="">100</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">101</span>:             <span class="c"># only float is accepted as attribute format</span></pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">102</span>:             <span class="k">if</span> <span class="n">tp</span> <span class="o">==</span> <span class="n">b</span><span class="s">&#39;float&#39;</span><span class="p">:</span></pre>
<pre class='cython code score-2 '>    __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyBytes_Equals</span>(__pyx_v_tp, __pyx_n_b_float, Py_EQ)); if (unlikely(__pyx_t_2 &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 102, __pyx_L1_error)</span>
    if (__pyx_t_2) {
/* … */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">103</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">GL_FLOAT</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;type = GL_FLOAT;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">104</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">bytesize</span> <span class="o">=</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">GLfloat</span><span class="p">)</span> <span class="o">*</span> <span class="n">size</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;bytesize = ((sizeof(GLfloat)) * __pyx_v_size);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">105</span>:             <span class="k">elif</span> <span class="n">tp</span> <span class="o">==</span> <span class="n">b</span><span class="s">&#39;short&#39;</span><span class="p">:</span></pre>
<pre class='cython code score-2 '>    __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyBytes_Equals</span>(__pyx_v_tp, __pyx_n_b_short, Py_EQ)); if (unlikely(__pyx_t_2 &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 105, __pyx_L1_error)</span>
    if (__pyx_t_2) {
/* … */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">106</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">GL_SHORT</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;type = GL_SHORT;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">107</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">bytesize</span> <span class="o">=</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">GLshort</span><span class="p">)</span> <span class="o">*</span> <span class="n">size</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;bytesize = ((sizeof(GLshort)) * __pyx_v_size);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">108</span>:             <span class="k">elif</span> <span class="n">tp</span> <span class="o">==</span> <span class="n">b</span><span class="s">&#39;ushort&#39;</span><span class="p">:</span></pre>
<pre class='cython code score-2 '>    __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyBytes_Equals</span>(__pyx_v_tp, __pyx_n_b_ushort, Py_EQ)); if (unlikely(__pyx_t_2 &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 108, __pyx_L1_error)</span>
    if (__pyx_t_2) {
/* … */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">109</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">GL_UNSIGNED_SHORT</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;type = GL_UNSIGNED_SHORT;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">110</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">bytesize</span> <span class="o">=</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">GLushort</span><span class="p">)</span> <span class="o">*</span> <span class="n">size</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;bytesize = ((sizeof(GLushort)) * __pyx_v_size);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">111</span>:             <span class="k">elif</span> <span class="n">tp</span> <span class="o">==</span> <span class="n">b</span><span class="s">&#39;byte&#39;</span><span class="p">:</span></pre>
<pre class='cython code score-2 '>    __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyBytes_Equals</span>(__pyx_v_tp, __pyx_n_b_byte, Py_EQ)); if (unlikely(__pyx_t_2 &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 111, __pyx_L1_error)</span>
    if (__pyx_t_2) {
/* … */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">112</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">GL_BYTE</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;type = GL_BYTE;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">113</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">bytesize</span> <span class="o">=</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">GLbyte</span><span class="p">)</span> <span class="o">*</span> <span class="n">size</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;bytesize = ((sizeof(GLbyte)) * __pyx_v_size);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">114</span>:             <span class="k">elif</span> <span class="n">tp</span> <span class="o">==</span> <span class="n">b</span><span class="s">&#39;ubyte&#39;</span><span class="p">:</span></pre>
<pre class='cython code score-2 '>    __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyBytes_Equals</span>(__pyx_v_tp, __pyx_n_b_ubyte, Py_EQ)); if (unlikely(__pyx_t_2 &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 114, __pyx_L1_error)</span>
    if (__pyx_t_2) {
/* … */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">115</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">GL_UNSIGNED_BYTE</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;type = GL_UNSIGNED_BYTE;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">116</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">bytesize</span> <span class="o">=</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">GLubyte</span><span class="p">)</span> <span class="o">*</span> <span class="n">size</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;bytesize = ((sizeof(GLubyte)) * __pyx_v_size);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">117</span>:             <span class="k">elif</span> <span class="n">tp</span> <span class="o">==</span> <span class="n">b</span><span class="s">&#39;int&#39;</span><span class="p">:</span></pre>
<pre class='cython code score-2 '>    __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyBytes_Equals</span>(__pyx_v_tp, __pyx_n_b_int, Py_EQ)); if (unlikely(__pyx_t_2 &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 117, __pyx_L1_error)</span>
    if (__pyx_t_2) {
/* … */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">118</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">GL_INT</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;type = GL_INT;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">119</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">bytesize</span> <span class="o">=</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">GLint</span><span class="p">)</span> <span class="o">*</span> <span class="n">size</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;bytesize = ((sizeof(GLint)) * __pyx_v_size);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">120</span>:             <span class="k">elif</span> <span class="n">tp</span> <span class="o">==</span> <span class="n">b</span><span class="s">&#39;uint&#39;</span><span class="p">:</span></pre>
<pre class='cython code score-2 '>    __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyBytes_Equals</span>(__pyx_v_tp, __pyx_n_b_uint, Py_EQ)); if (unlikely(__pyx_t_2 &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 120, __pyx_L1_error)</span>
    if (likely(__pyx_t_2)) {
/* … */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">121</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">GL_UNSIGNED_INT</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;type = GL_UNSIGNED_INT;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">122</span>:                 <span class="n">attr</span><span class="o">.</span><span class="n">bytesize</span> <span class="o">=</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">GLuint</span><span class="p">)</span> <span class="o">*</span> <span class="n">size</span></pre>
<pre class='cython code score-0 '>      __pyx_v_attr-&gt;bytesize = ((sizeof(GLuint)) * __pyx_v_size);
</pre><pre class="cython line score-0">&#xA0;<span class="">123</span>:             <span class="k">else</span><span class="p">:</span></pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">124</span>:                 <span class="k">raise</span> <span class="n">VertexFormatException</span><span class="p">(</span><span class="s">&#39;Unknow format type </span><span class="si">%r</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">tp</span><span class="p">)</span></pre>
<pre class='cython code score-22 '>    /*else*/ {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_12, __pyx_n_s_VertexFormatException);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 124, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyString_FormatSafe</span>(__pyx_kp_s_Unknow_format_type_r, __pyx_v_tp);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 124, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      __pyx_t_10 = NULL;
      if (CYTHON_UNPACK_METHODS &amp;&amp; unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_12))) {
        __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_12);
        if (likely(__pyx_t_10)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_12);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_12, function);
        }
      }
      __pyx_t_4 = (__pyx_t_10) ? __Pyx_PyObject_Call2Args(__pyx_t_12, __pyx_t_10, __pyx_t_11) : <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_12, __pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 124, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='error_goto'>__PYX_ERR(0, 124, __pyx_L1_error)</span>
    }
    __pyx_L12:;
</pre><pre class="cython line score-0">&#xA0;<span class="">125</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">126</span>:             <span class="c"># adjust the size, and prepare for the next iteration.</span></pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">127</span>:             <span class="n">index</span> <span class="o">+=</span> <span class="mf">1</span></pre>
<pre class='cython code score-0 '>    __pyx_v_index = (__pyx_v_index + 1);
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">128</span>:             <span class="bp">self</span><span class="o">.</span><span class="n">vsize</span> <span class="o">+=</span> <span class="n">attr</span><span class="o">.</span><span class="n">size</span></pre>
<pre class='cython code score-0 '>    __pyx_v_self-&gt;__pyx_base.vsize = (__pyx_v_self-&gt;__pyx_base.vsize + __pyx_v_attr-&gt;size);
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">129</span>:         <span class="bp">self</span><span class="o">.</span><span class="n">vbytesize</span> <span class="o">=</span> <span class="n">size_in_bytes</span></pre>
<pre class='cython code score-7 '>  __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyInt_As_unsigned_int</span>(__pyx_v_size_in_bytes); if (unlikely((__pyx_t_18 == (unsigned int)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 129, __pyx_L1_error)</span>
  __pyx_v_self-&gt;__pyx_base.vbytesize = __pyx_t_18;
</pre><pre class="cython line score-0">&#xA0;<span class="">130</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">131</span>:     <span class="k">cdef</span> <span class="kt">void</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre>
<pre class='cython code score-5 '>static void __pyx_f_11kivent_core_9rendering_13vertex_format_14KEVertexFormat_bind(struct __pyx_obj_11kivent_core_9rendering_13vertex_format_KEVertexFormat *__pyx_v_self) {
  struct __pyx_obj_4kivy_8graphics_6shader_Shader *__pyx_v_shader = 0;
  __pyx_t_4kivy_8graphics_6vertex_vertex_attr_t *__pyx_v_attr;
  __pyx_t_4kivy_8graphics_6vertex_vertex_attr_t *__pyx_v_vattr;
  Py_ssize_t *__pyx_v_offsets;
  unsigned int __pyx_v_vbytesize;
  int __pyx_v_i;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("bind", 0);
/* … */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_WriteUnraisable</span>("kivent_core.rendering.vertex_format.KEVertexFormat.bind", __pyx_clineno, __pyx_lineno, __pyx_filename, 1, 0);
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>((PyObject *)__pyx_v_shader);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
}
</pre><pre class="cython line score-0">&#xA0;<span class="">132</span>:         <span class="sd">&#39;&#39;&#39;Responsible for making the current KEVertexFormat the active one</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">133</span>: <span class="sd">        by calling glVertexAttribPointer for each of the attributes&#39;&#39;&#39;</span></pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">134</span>:         <span class="k">cdef</span> <span class="kt">Shader</span> <span class="nf">shader</span> <span class="o">=</span> <span class="n">getActiveContext</span><span class="p">()</span><span class="o">.</span><span class="n">_shader</span></pre>
<pre class='cython code score-2 '>  __pyx_t_1 = ((PyObject *)__pyx_f_4kivy_8graphics_12instructions_getActiveContext());<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 134, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = ((PyObject *)((struct __pyx_obj_4kivy_8graphics_12instructions_RenderContext *)__pyx_t_1)-&gt;_shader);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_shader = ((struct __pyx_obj_4kivy_8graphics_6shader_Shader *)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">135</span>:         <span class="k">cdef</span> <span class="kt">vertex_attr_t</span> *<span class="nf">attr</span></pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">136</span>:         <span class="k">cdef</span> <span class="kt">vertex_attr_t</span>* <span class="nf">vattr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vattr</span></pre>
<pre class='cython code score-0 '>  __pyx_t_3 = __pyx_v_self-&gt;__pyx_base.vattr;
  __pyx_v_vattr = __pyx_t_3;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">137</span>:         <span class="k">cdef</span> <span class="kt">Py_ssize_t</span>* <span class="nf">offsets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attr_offsets</span></pre>
<pre class='cython code score-0 '>  __pyx_t_4 = __pyx_v_self-&gt;attr_offsets;
  __pyx_v_offsets = __pyx_t_4;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">138</span>:         <span class="k">cdef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">vbytesize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vbytesize</span></pre>
<pre class='cython code score-0 '>  __pyx_t_5 = __pyx_v_self-&gt;__pyx_base.vbytesize;
  __pyx_v_vbytesize = __pyx_t_5;
</pre><pre class="cython line score-0">&#xA0;<span class="">139</span>:         <span class="k">cdef</span> <span class="kt">int</span> <span class="nf">i</span></pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">140</span>:         <span class="n">shader</span><span class="o">.</span><span class="n">bind_vertex_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></pre>
<pre class='cython code score-0 '>  ((struct __pyx_vtabstruct_4kivy_8graphics_6shader_Shader *)__pyx_v_shader-&gt;__pyx_vtab)-&gt;bind_vertex_format(__pyx_v_shader, ((struct __pyx_obj_4kivy_8graphics_6vertex_VertexFormat *)__pyx_v_self));
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">141</span>:         <span class="n">gl_log_debug_message</span><span class="p">(</span><span class="s">&#39;KEVertexFormat.bind-bind_vertex_format&#39;</span><span class="p">)</span></pre>
<pre class='cython code score-0 '>  __pyx_f_11kivent_core_9rendering_8gl_debug_gl_log_debug_message(__pyx_kp_s_KEVertexFormat_bind_bind_vertex, NULL);
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">142</span>:         <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vattr_count</span><span class="p">):</span></pre>
<pre class='cython code score-0 '>  __pyx_t_6 = __pyx_v_self-&gt;__pyx_base.vattr_count;
  __pyx_t_7 = __pyx_t_6;
  for (__pyx_t_8 = 0; __pyx_t_8 &lt; __pyx_t_7; __pyx_t_8+=1) {
    __pyx_v_i = __pyx_t_8;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">143</span>:             <span class="n">attr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">vattr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span></pre>
<pre class='cython code score-0 '>    __pyx_v_attr = (&amp;(__pyx_v_vattr[__pyx_v_i]));
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">144</span>:             <span class="k">if</span> <span class="n">attr</span><span class="o">.</span><span class="n">per_vertex</span> <span class="o">==</span> <span class="mf">0</span><span class="p">:</span></pre>
<pre class='cython code score-0 '>    __pyx_t_9 = ((__pyx_v_attr-&gt;per_vertex == 0) != 0);
    if (__pyx_t_9) {
/* … */
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">145</span>:                 <span class="k">continue</span></pre>
<pre class='cython code score-0 '>      goto __pyx_L3_continue;
</pre><pre class="cython line score-0">&#xA0;<span class="">146</span>:             <span class="c">#commentout for sphinx</span></pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">147</span>:             <span class="n">cgl</span><span class="o">.</span><span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="n">attr</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">attr</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">attr</span><span class="o">.</span><span class="n">type</span><span class="p">,</span></pre>
<pre class='cython code score-0 '>    __pyx_v_4kivy_8graphics_3cgl_cgl-&gt;glVertexAttribPointer(__pyx_v_attr-&gt;index, __pyx_v_attr-&gt;size, __pyx_v_attr-&gt;type, (__pyx_v_self-&gt;attr_normalize[__pyx_v_i]), ((GLsizei)__pyx_v_vbytesize), ((GLvoid *)((long)(__pyx_v_offsets[__pyx_v_i]))));
</pre><pre class="cython line score-0">&#xA0;<span class="">148</span>:                     <span class="bp">self</span><span class="o">.</span><span class="n">attr_normalize</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="p">&lt;</span><span class="kt">GLsizei</span><span class="p">&gt;</span><span class="n">vbytesize</span><span class="p">,</span></pre>
<pre class="cython line score-0">&#xA0;<span class="">149</span>:                     <span class="o">&lt;</span><span class="n">GLvoid</span><span class="o">*&gt;</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">&gt;</span><span class="n">offsets</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">150</span>:             <span class="n">gl_log_debug_message</span><span class="p">(</span><span class="s">&#39;KEVertexFormat.bind-glVertexAttribPointer&#39;</span><span class="p">)</span></pre>
<pre class='cython code score-0 '>    __pyx_f_11kivent_core_9rendering_8gl_debug_gl_log_debug_message(__pyx_kp_s_KEVertexFormat_bind_glVertexAttr, NULL);
    __pyx_L3_continue:;
  }
</pre></div></body></html>
